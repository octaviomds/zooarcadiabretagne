tinymce.PluginManager.add("bf_rating",function(t,e){return t.ui.registry.addMenuItem("bf_insertRating",{text:"Insert rating",onAction:function(){t.windowManager.openUrl({title:"Add New Rating",url:e+"/dialog.html",width:400,buttons:[{text:"Cancel",type:"cancel"},{text:"Add",type:"custom",name:"Add Rating",primary:!0}],onAction:(t,e)=>{"Add Rating"===e.name&&t.sendMessage({message:"getDataId"})},onMessage:(e,n)=>{let a=n.data.content,i=n.mceAction;if(a&&"setDataId"===i){let n=a.trim();n=escape(n),t.insertContent(`<img src="trigger_errorasd" onerror="typeof buildfire !== 'undefined' && buildfire.ratingSystem.inject()" style="display: none !important;">\n                            <p data-rating-id="${n}-tinymce" style="text-align: center;" data-mce-style="text-align: center;">\n                                &#9733; &#9733; &#9733; &#9733; &#9733;\n                            </p><br>\n                        `),e.close()}}})}}),{getMetadata:function(){return{name:"Rating Plugin"}}}});
